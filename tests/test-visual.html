<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tests Visuels - EBIOS RM Calculator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', system-ui, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #0f3460 100%);
            color: #e0e0e0;
            padding: 2rem;
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #4ecca3;
            text-shadow: 0 0 20px rgba(78, 204, 163, 0.5);
        }

        h2 {
            font-size: 1.8rem;
            margin: 2rem 0 1rem;
            color: #eeeeee;
            border-bottom: 2px solid #4ecca3;
            padding-bottom: 0.5rem;
        }

        .test-case {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(78, 204, 163, 0.3);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .test-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .test-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #4ecca3;
        }

        .test-result {
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-weight: bold;
            font-size: 1.5rem;
        }

        .v0 {
            background: #1a472a;
            color: #4ecca3;
        }

        .v1 {
            background: #2a472a;
            color: #4ecca3;
        }

        .v2 {
            background: #5a4a2a;
            color: #f2c94c;
        }

        .v3 {
            background: #6a3a2a;
            color: #f2994a;
        }

        .v4 {
            background: #7a2a2a;
            color: #eb5757;
        }

        .test-details {
            margin-top: 1rem;
        }

        .step {
            display: grid;
            grid-template-columns: 150px 1fr 100px;
            gap: 1rem;
            align-items: center;
            padding: 0.75rem;
            background: rgba(0, 0, 0, 0.2);
            margin-bottom: 0.5rem;
            border-radius: 6px;
            border-left: 3px solid transparent;
        }

        .step.protected {
            border-left-color: #4ecca3;
        }

        .step-name {
            font-weight: 600;
        }

        .step-metrics {
            font-family: 'Courier New', monospace;
            color: #999;
        }

        .step-score {
            text-align: right;
            font-weight: bold;
            font-size: 1.1rem;
        }

        .explanation {
            margin-top: 1rem;
            padding: 1rem;
            background: rgba(78, 204, 163, 0.1);
            border-left: 3px solid #4ecca3;
            border-radius: 6px;
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .badge {
            display: inline-block;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            font-size: 0.85rem;
            font-weight: 600;
            margin-left: 0.5rem;
        }

        .badge.critical {
            background: #eb5757;
            color: white;
        }

        .badge.high {
            background: #f2994a;
            color: white;
        }

        .badge.medium {
            background: #f2c94c;
            color: #1a1a2e;
        }

        .badge.low {
            background: #4ecca3;
            color: #1a1a2e;
        }

        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            margin-top: 1rem;
        }

        .comparison-item {
            padding: 1rem;
            border-radius: 8px;
        }

        .comparison-item.before {
            background: rgba(235, 87, 87, 0.1);
            border: 1px solid rgba(235, 87, 87, 0.3);
        }

        .comparison-item.after {
            background: rgba(78, 204, 163, 0.1);
            border: 1px solid rgba(78, 204, 163, 0.3);
        }

        .comparison-label {
            font-weight: bold;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            font-size: 0.85rem;
        }

        .comparison-item.before .comparison-label {
            color: #eb5757;
        }

        .comparison-item.after .comparison-label {
            color: #4ecca3;
        }
    </style>
</head>

<body>
    <div class="container">
        <h1>üß™ Tests Visuels - Corrections EBIOS RM</h1>
        <p style="margin-bottom: 2rem; font-size: 1.1rem;">
            Validation des corrections apport√©es au calculateur de vraisemblance
        </p>

        <h2>‚úÖ Test 1: Maillon Faible de Probabilit√©</h2>
        <div class="test-case">
            <div class="test-header">
                <div class="test-title">Sc√©nario avec une √©tape bloquante</div>
                <div class="test-result v0">V0</div>
            </div>
            <div class="test-details">
                <div class="step">
                    <div class="step-name">A. Reconnaissance</div>
                    <div class="step-metrics">P4 (Quasi-certaine) / D0 (N√©gligeable)</div>
                    <div class="step-score">V4</div>
                </div>
                <div class="step">
                    <div class="step-name">B. Intrusion</div>
                    <div class="step-metrics">P0 (Tr√®s faible) / D4 (Tr√®s √©lev√©e)</div>
                    <div class="step-score">V0 ‚Üê Bloque tout</div>
                </div>
                <div class="step">
                    <div class="step-name">C. √âl√©vation</div>
                    <div class="step-metrics">P4 (Quasi-certaine) / D0 (N√©gligeable)</div>
                    <div class="step-score">V4</div>
                </div>
                <div class="step">
                    <div class="step-name">D. Exfiltration</div>
                    <div class="step-metrics">P4 (Quasi-certaine) / D0 (N√©gligeable)</div>
                    <div class="step-score">V4</div>
                </div>
            </div>
            <div class="explanation">
                <strong>‚úÖ Comportement correct :</strong> L'√©tape B est impossible (P0), ce qui bloque toute la cha√Æne
                d'attaque.
                Le score global est V0 (min de V4, V0, V4, V4) selon le principe du <strong>maillon faible</strong>.
            </div>
        </div>

        <h2>üîí Test 2: Socle Localis√© (Crucial!)</h2>
        <div class="test-case">
            <div class="test-header">
                <div class="test-title">Infrastructure partiellement prot√©g√©e</div>
                <div class="test-result v1">V1</div>
            </div>
            <div class="test-details">
                <div class="step">
                    <div class="step-name">A. Reconnaissance</div>
                    <div class="step-metrics">P2 (Significative) / D2 (Mod√©r√©e)</div>
                    <div class="step-score">V2</div>
                </div>
                <div class="step protected">
                    <div class="step-name">B. Intrusion <span class="badge low">MFA</span></div>
                    <div class="step-metrics">P3 (√âlev√©e) / D1 (Faible) + SOCLE</div>
                    <div class="step-score">V1 ‚úÖ</div>
                </div>
                <div class="step">
                    <div class="step-name">C. Acc√®s donn√©es</div>
                    <div class="step-metrics">P4 (Quasi-certaine) / D0 (N√©gligeable)</div>
                    <div class="step-score">V4 ‚ö†Ô∏è</div>
                </div>
                <div class="step">
                    <div class="step-name">D. Exfiltration</div>
                    <div class="step-metrics">P2 (Significative) / D2 (Mod√©r√©e)</div>
                    <div class="step-score">V2</div>
                </div>
            </div>
            <div class="explanation">
                <strong>‚úÖ Comportement correct :</strong> Le MFA prot√®ge l'intrusion (√©tape B = V1),
                mais l'acc√®s aux donn√©es reste vuln√©rable (√©tape C = V4).
                Score global = V1 (min de V2, V1, V4, V2). Le socle s'applique <strong>par √©tape</strong>, pas
                globalement.
            </div>
            <div class="comparison">
                <div class="comparison-item before">
                    <div class="comparison-label">‚ùå Comportement avant</div>
                    <div>anySocle = true ‚Üí Tout plafonn√© √† V1</div>
                    <div style="margin-top: 0.5rem; opacity: 0.7;">
                        Probl√®me: M√™me si C est vuln√©rable, le score √©tait V1
                    </div>
                </div>
                <div class="comparison-item after">
                    <div class="comparison-label">‚úÖ Comportement apr√®s</div>
                    <div>Calcul par √©tape ‚Üí min(V2, V1, V4, V2) = V1</div>
                    <div style="margin-top: 0.5rem; opacity: 0.7;">
                        Correct: Le socle prot√®ge B, mais C reste un risque identifi√©
                    </div>
                </div>
            </div>
        </div>

        <h2>üõ°Ô∏è Test 3: Infrastructure S√©curis√©e</h2>
        <div class="test-case">
            <div class="test-header">
                <div class="test-title">Serveur web avec d√©fense en profondeur</div>
                <div class="test-result v1">V1 <span class="badge low">BIEN PROT√âG√â</span></div>
            </div>
            <div class="test-details">
                <div class="step">
                    <div class="step-name">A. Reconnaissance</div>
                    <div class="step-metrics">P3 (√âlev√©e) / D1 (Faible)</div>
                    <div class="step-score">V3</div>
                </div>
                <div class="step protected">
                    <div class="step-name">B. Intrusion <span class="badge low">MFA+FW</span></div>
                    <div class="step-metrics">P2 (Significative) / D3 (√âlev√©e) + SOCLE</div>
                    <div class="step-score">V1 ‚úÖ</div>
                </div>
                <div class="step protected">
                    <div class="step-name">C. √âl√©vation <span class="badge low">PAM</span></div>
                    <div class="step-metrics">P1 (Faible) / D4 (Tr√®s √©lev√©e) + SOCLE</div>
                    <div class="step-score">V1 ‚úÖ</div>
                </div>
                <div class="step">
                    <div class="step-name">D. Exfiltration</div>
                    <div class="step-metrics">P2 (Significative) / D2 (Mod√©r√©e)</div>
                    <div class="step-score">V2</div>
                </div>
            </div>
            <div class="explanation">
                <strong>‚úÖ D√©fense en profondeur efficace :</strong> Plusieurs couches de s√©curit√© (MFA, Firewall, PAM)
                rendent
                l'intrusion et l'√©l√©vation tr√®s difficiles. Score global = V1 (min de V3, V1, V1, V2).
            </div>
        </div>

        <h2>‚ö†Ô∏è Test 4: Infrastructure Vuln√©rable</h2>
        <div class="test-case">
            <div class="test-header">
                <div class="test-title">Serveur sans protections</div>
                <div class="test-result v3">V3 <span class="badge high">RISQUE √âLEV√â</span></div>
            </div>
            <div class="test-details">
                <div class="step">
                    <div class="step-name">A. Reconnaissance</div>
                    <div class="step-metrics">P3 (√âlev√©e) / D1 (Faible)</div>
                    <div class="step-score">V3</div>
                </div>
                <div class="step">
                    <div class="step-name">B. Intrusion <span class="badge critical">PAS DE MFA</span></div>
                    <div class="step-metrics">P3 (√âlev√©e) / D1 (Faible)</div>
                    <div class="step-score">V3 ‚ö†Ô∏è</div>
                </div>
                <div class="step">
                    <div class="step-name">C. √âl√©vation <span class="badge critical">ADMIN PAR D√âFAUT</span></div>
                    <div class="step-metrics">P3 (√âlev√©e) / D1 (Faible)</div>
                    <div class="step-score">V3 ‚ö†Ô∏è</div>
                </div>
                <div class="step">
                    <div class="step-name">D. Exfiltration <span class="badge critical">PAS DE DLP</span></div>
                    <div class="step-metrics">P4 (Quasi-certaine) / D0 (N√©gligeable)</div>
                    <div class="step-score">V4 ‚ö†Ô∏è</div>
                </div>
            </div>
            <div class="explanation">
                <strong>‚ö†Ô∏è Infrastructure √† risque :</strong> Aucune mesure de s√©curit√© en place.
                Toutes les √©tapes sont faciles pour l'attaquant. Score global = V3 (min de V3, V3, V3, V4).
                <strong>Actions recommand√©es :</strong> Impl√©menter MFA, durcir les privil√®ges, d√©ployer DLP.
            </div>
        </div>

        <h2>üìä R√©sum√© des Corrections</h2>
        <div class="test-case">
            <h3 style="margin-bottom: 1rem; color: #4ecca3;">Probl√®mes Corrig√©s</h3>

            <div style="margin-bottom: 1.5rem;">
                <strong>1. Calcul de Probabilit√© Globale</strong>
                <div class="comparison">
                    <div class="comparison-item before">
                        <div class="comparison-label">‚ùå Avant</div>
                        <code>globalProb = Math.max(...probs)</code>
                        <div style="margin-top: 0.5rem;">
                            Prenait la probabilit√© la plus HAUTE<br>
                            ‚Üí Sur√©valuation du risque
                        </div>
                    </div>
                    <div class="comparison-item after">
                        <div class="comparison-label">‚úÖ Apr√®s</div>
                        <code>Math.min(...stepScores)</code>
                        <div style="margin-top: 0.5rem;">
                            Principe du maillon faible<br>
                            ‚Üí Conforme EBIOS RM
                        </div>
                    </div>
                </div>
            </div>

            <div>
                <strong>2. Application du Socle</strong>
                <div class="comparison">
                    <div class="comparison-item before">
                        <div class="comparison-label">‚ùå Avant</div>
                        <code>anySocle ‚Üí V1 global</code>
                        <div style="margin-top: 0.5rem;">
                            Une seule mesure plafonnait tout<br>
                            ‚Üí Masquait les vuln√©rabilit√©s
                        </div>
                    </div>
                    <div class="comparison-item after">
                        <div class="comparison-label">‚úÖ Apr√®s</div>
                        <code>Calcul par √©tape</code>
                        <div style="margin-top: 0.5rem;">
                            Chaque action √©valu√©e individuellement<br>
                            ‚Üí Identification pr√©cise des risques
                        </div>
                    </div>
                </div>
            </div>

            <div class="explanation" style="margin-top: 1.5rem;">
                <strong>üéâ R√©sultat :</strong> 7/7 tests r√©ussis. Le calculateur respecte maintenant strictement
                la m√©thodologie EBIOS RM de l'ANSSI. Les scores sont coh√©rents et exploitables pour
                des d√©cisions de s√©curit√©.
            </div>
        </div>
    </div>
</body>

</html>